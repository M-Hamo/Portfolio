{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, Output, ViewChild, ContentChildren, NgModule } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1 from 'primeng/api';\nimport { PrimeTemplate, SharedModule } from 'primeng/api';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport { DomHandler } from 'primeng/dom';\nimport { ZIndexUtils } from 'primeng/utils';\nconst _c0 = [\"mask\"];\n\nfunction Image_div_2_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction Image_div_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, Image_div_2_ng_container_1_ng_container_1_Template, 1, 0, \"ng-container\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r2.indicatorTemplate);\n  }\n}\n\nfunction Image_div_2_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 8);\n  }\n}\n\nfunction Image_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function Image_div_2_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onImageClick();\n    });\n    i0.ɵɵtemplate(1, Image_div_2_ng_container_1_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵtemplate(2, Image_div_2_ng_template_2_Template, 1, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(3);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.indicatorTemplate)(\"ngIfElse\", _r3);\n  }\n}\n\nconst _c1 = function (a0, a1) {\n  return {\n    showTransitionParams: a0,\n    hideTransitionParams: a1\n  };\n};\n\nconst _c2 = function (a1) {\n  return {\n    value: \"visible\",\n    params: a1\n  };\n};\n\nfunction Image_div_3_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵlistener(\"@animation.start\", function Image_div_3_div_13_Template_div_animation_animation_start_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return ctx_r10.onAnimationStart($event);\n    })(\"@animation.done\", function Image_div_3_div_13_Template_div_animation_animation_done_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.onAnimationEnd($event);\n    });\n    i0.ɵɵelementStart(1, \"img\", 21);\n    i0.ɵɵlistener(\"click\", function Image_div_3_div_13_Template_img_click_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.onPreviewImageClick();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"@animation\", i0.ɵɵpureFunction1(6, _c2, i0.ɵɵpureFunction2(3, _c1, ctx_r9.showTransitionOptions, ctx_r9.hideTransitionOptions)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r9.imagePreviewStyle());\n    i0.ɵɵattribute(\"src\", ctx_r9.src, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction Image_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 9, 10);\n    i0.ɵɵlistener(\"click\", function Image_div_3_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.onMaskClick();\n    });\n    i0.ɵɵelementStart(2, \"div\", 11);\n    i0.ɵɵelementStart(3, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function Image_div_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.rotateRight();\n    });\n    i0.ɵɵelement(4, \"i\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function Image_div_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.rotateLeft();\n    });\n    i0.ɵɵelement(6, \"i\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function Image_div_3_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.zoomOut();\n    });\n    i0.ɵɵelement(8, \"i\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function Image_div_3_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.zoomIn();\n    });\n    i0.ɵɵelement(10, \"i\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 18);\n    i0.ɵɵelement(12, \"i\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, Image_div_3_div_13_Template, 2, 8, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.zoomDisabled());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.zoomDisabled());\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.previewVisible);\n  }\n}\n\nlet Image = /*#__PURE__*/(() => {\n  class Image {\n    constructor(config, cd) {\n      this.config = config;\n      this.cd = cd;\n      this.preview = false;\n      this.showTransitionOptions = '150ms cubic-bezier(0, 0, 0.2, 1)';\n      this.hideTransitionOptions = '150ms cubic-bezier(0, 0, 0.2, 1)';\n      this.onShow = new EventEmitter();\n      this.onHide = new EventEmitter();\n      this.maskVisible = false;\n      this.previewVisible = false;\n      this.rotate = 0;\n      this.scale = 1;\n      this.previewClick = false;\n    }\n\n    ngAfterContentInit() {\n      this.templates.forEach(item => {\n        switch (item.getType()) {\n          case 'indicator':\n            this.indicatorTemplate = item.template;\n            break;\n\n          default:\n            this.indicatorTemplate = item.template;\n            break;\n        }\n      });\n    }\n\n    onImageClick() {\n      if (this.preview) {\n        this.maskVisible = true;\n        this.previewVisible = true;\n      }\n    }\n\n    onMaskClick() {\n      if (!this.previewClick) {\n        this.previewVisible = false;\n        this.rotate = 0;\n        this.scale = 1;\n      }\n\n      this.previewClick = false;\n    }\n\n    onPreviewImageClick() {\n      this.previewClick = true;\n    }\n\n    rotateRight() {\n      this.rotate += 90;\n      this.previewClick = true;\n    }\n\n    rotateLeft() {\n      this.rotate -= 90;\n      this.previewClick = true;\n    }\n\n    zoomIn() {\n      this.scale = this.scale + 0.1;\n      this.previewClick = true;\n    }\n\n    zoomOut() {\n      this.scale = this.scale - 0.1;\n      this.previewClick = true;\n    }\n\n    zoomDisabled() {\n      return this.scale <= 0.5 || this.scale >= 1.5;\n    }\n\n    onAnimationStart(event) {\n      switch (event.toState) {\n        case 'visible':\n          this.container = event.element;\n          this.wrapper = this.container.parentElement;\n          this.appendContainer();\n          this.moveOnTop();\n          break;\n\n        case 'void':\n          DomHandler.addClass(this.wrapper, 'p-component-overlay-leave');\n          break;\n      }\n    }\n\n    onAnimationEnd(event) {\n      switch (event.toState) {\n        case 'void':\n          ZIndexUtils.clear(this.container);\n          this.maskVisible = false;\n          this.container = null;\n          this.wrapper = null;\n          this.cd.markForCheck();\n          this.onHide.emit({});\n          break;\n\n        case 'visible':\n          this.onShow.emit({});\n          break;\n      }\n    }\n\n    moveOnTop() {\n      ZIndexUtils.set('modal', this.container, this.config.zIndex.modal);\n      this.wrapper.style.zIndex = String(parseInt(this.container.style.zIndex, 10) - 1);\n    }\n\n    appendContainer() {\n      if (this.appendTo) {\n        if (this.appendTo === 'body') document.body.appendChild(this.wrapper);else DomHandler.appendChild(this.wrapper, this.appendTo);\n      }\n    }\n\n    imagePreviewStyle() {\n      return {\n        transform: 'rotate(' + this.rotate + 'deg) scale(' + this.scale + ')'\n      };\n    }\n\n    containerClass() {\n      return {\n        'p-image p-component': true,\n        'p-image-preview-container': this.preview\n      };\n    }\n\n  }\n\n  Image.ɵfac = function Image_Factory(t) {\n    return new (t || Image)(i0.ɵɵdirectiveInject(i1.PrimeNGConfig), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n\n  Image.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: Image,\n    selectors: [[\"p-image\"]],\n    contentQueries: function Image_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, PrimeTemplate, 4);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.templates = _t);\n      }\n    },\n    viewQuery: function Image_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mask = _t.first);\n      }\n    },\n    hostAttrs: [1, \"p-element\"],\n    inputs: {\n      imageClass: \"imageClass\",\n      imageStyle: \"imageStyle\",\n      styleClass: \"styleClass\",\n      style: \"style\",\n      src: \"src\",\n      alt: \"alt\",\n      width: \"width\",\n      height: \"height\",\n      appendTo: \"appendTo\",\n      preview: \"preview\",\n      showTransitionOptions: \"showTransitionOptions\",\n      hideTransitionOptions: \"hideTransitionOptions\"\n    },\n    outputs: {\n      onShow: \"onShow\",\n      onHide: \"onHide\"\n    },\n    decls: 4,\n    vars: 13,\n    consts: [[3, \"ngClass\", \"ngStyle\"], [3, \"ngStyle\"], [\"class\", \"p-image-preview-indicator\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"p-image-mask p-component-overlay p-component-overlay-enter\", 3, \"click\", 4, \"ngIf\"], [1, \"p-image-preview-indicator\", 3, \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"defaultTemplate\", \"\"], [4, \"ngTemplateOutlet\"], [1, \"p-image-preview-icon\", \"pi\", \"pi-eye\"], [1, \"p-image-mask\", \"p-component-overlay\", \"p-component-overlay-enter\", 3, \"click\"], [\"mask\", \"\"], [1, \"p-image-toolbar\"], [\"type\", \"button\", 1, \"p-image-action\", \"p-link\", 3, \"click\"], [1, \"pi\", \"pi-refresh\"], [1, \"pi\", \"pi-undo\"], [\"type\", \"button\", 1, \"p-image-action\", \"p-link\", 3, \"disabled\", \"click\"], [1, \"pi\", \"pi-search-minus\"], [1, \"pi\", \"pi-search-plus\"], [\"type\", \"button\", 1, \"p-image-action\", \"p-link\"], [1, \"pi\", \"pi-times\"], [4, \"ngIf\"], [1, \"p-image-preview\", 3, \"ngStyle\", \"click\"]],\n    template: function Image_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"span\", 0);\n        i0.ɵɵelement(1, \"img\", 1);\n        i0.ɵɵtemplate(2, Image_div_2_Template, 4, 2, \"div\", 2);\n        i0.ɵɵtemplate(3, Image_div_3_Template, 14, 3, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.styleClass);\n        i0.ɵɵproperty(\"ngClass\", ctx.containerClass())(\"ngStyle\", ctx.style);\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassMap(ctx.imageClass);\n        i0.ɵɵproperty(\"ngStyle\", ctx.imageStyle);\n        i0.ɵɵattribute(\"src\", ctx.src, i0.ɵɵsanitizeUrl)(\"alt\", ctx.alt)(\"width\", ctx.width)(\"height\", ctx.height);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.preview);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.maskVisible);\n      }\n    },\n    directives: [i2.NgClass, i2.NgStyle, i2.NgIf, i2.NgTemplateOutlet],\n    styles: [\".p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon{font-size:1.5rem}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}\"],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animation', [transition('void => visible', [style({\n        transform: 'scale(0.7)',\n        opacity: 0\n      }), animate('{{showTransitionParams}}')]), transition('visible => void', [animate('{{hideTransitionParams}}', style({\n        transform: 'scale(0.7)',\n        opacity: 0\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  return Image;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet ImageModule = /*#__PURE__*/(() => {\n  class ImageModule {}\n\n  ImageModule.ɵfac = function ImageModule_Factory(t) {\n    return new (t || ImageModule)();\n  };\n\n  ImageModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ImageModule\n  });\n  ImageModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule], SharedModule]\n  });\n  return ImageModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { Image, ImageModule }; //# sourceMappingURL=primeng-image.js.map","map":null,"metadata":{},"sourceType":"module"}